n_tasks = 30;
duration = [ 10, 4, 1, 3, 5, 10, 1, 4, 6, 8, 7, 7, 4, 3, 10, 3, 4, 3, 7, 5, 1, 10, 8, 1, 6, 4, 7, 6, 9, 4 ];

n_res = 4;
L = [ 13, 13, 12, 15 ]; % this is the resource capacity. At any given time in out scheduling, the total consumption of the task must not exceed 13 in case of the 1st res, etc.

req = [| 5, 10, 5, 0, 3, 0, 0, 5, 1, 2, 0, 10, 0, 9, 3, 10, 0, 6, 0, 0, 2, 0, 1, 1, 0, 0, 0, 0, 0, 9
      | 0, 0, 0, 0, 0, 0, 4, 0, 4, 0, 10, 0, 6, 0, 5, 4, 1, 6, 6, 0, 8, 0, 0, 0, 3, 0, 9, 7, 0, 0
      | 0, 5, 1, 10, 0, 5, 0, 0, 4, 0, 7, 0, 0, 3, 0, 3, 0, 0, 0, 5, 2, 0, 8, 0, 0, 4, 0, 0, 4, 1
      | 8, 0, 0, 5, 0, 0, 0, 7, 8, 1, 6, 5, 0, 10, 0, 10, 1, 1, 0, 0, 1, 1, 2, 8, 8, 0, 0, 0, 4, 7 |]; % we need to know the resource requirement of every task of a given resource. That is given by this array `req`. This array is composed of 4 vectors, one for each resource. So, for example, the first array in the req array is the array requirement for all the `duration` array. So this means that on resource 1, task 1 cosumes 5 units; on resource 1, task 2 cosumes 10 units and so on.

p=42;
pre = 
   [|1, 11
    |1, 22
    |2, 4
    |2, 7
    |2, 16 
    |3, 5
    |3, 18
    |3, 23
    |4, 6
    |4, 9
    |4, 25
    |5, 15
    |5, 21
    |5, 27 
    |6, 8
    |7, 10
    |8, 23
    |9 ,12
    |9, 21
    |10, 14
    |10, 24
    |11, 25
    |12, 13
    |13, 19
    |13, 27
    |14, 23
    |15, 20
    |16, 17
    |17, 26
    |18, 19
    |18, 20
    |18, 29
    |19, 28
    |20, 22
    |21, 24
    |21, 29
    |22, 26
    |23, 26
    |24, 30
    |25, 28
    |26, 28
    |27, 30|];
    
       


